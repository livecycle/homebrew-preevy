# This file is automatically generated by https://github.com/livecycle/preevy/blob/main/packages/cli/scripts/homebrew.js
# Do not update this file directly; Please update the template instead
class Preevy < Formula
  desc "Quickly deploy preview environments to your cloud provider or Kubernetes cluster"
  homepage "https://preevy.dev"
  url "https://github.com/livecycle/preevy/releases/download/v0.0.61/preevy-v0.0.61-darwin-x64.tar.gz"
  sha256 "0c240da7a74fd8af32f86d2803a9836bdfd1eff0de4f62c92d8dd7ccbf896142"
  license "Apache-2.0"
  version "0.0.61"

  on_macos do
    on_arm do
      url "https://github.com/livecycle/preevy/releases/download/v0.0.61/preevy-v0.0.61-darwin-arm64.tar.gz"
      sha256 "bf64c3391d91d1414faa9f2f161edcf27e5eb208ef861069d904448861c3f640"
    end
  end

  on_linux do
    url "https://github.com/livecycle/preevy/releases/download/v0.0.61/preevy-v0.0.61-linux-x64.tar.gz"
    sha256 "59d9b958a5993082a8e801f54aa10a4029a51d2524d54570c0ba6e2d216f6282"
    on_arm do
      url "https://github.com/livecycle/preevy/releases/download/v0.0.61/preevy-v0.0.61-linux-arm64.tar.gz"
      sha256 "e7e5dee1b2742b0556530f28fdfd7debd5bfd99a2e674f0d91be496b8be154f9"
    end
  end

  def install
    inreplace "bin/preevy", /^CLIENT_HOME=/, "export PREEVY_OCLIF_CLIENT_HOME=#{lib/"client"}
CLIENT_HOME="
    libexec.install Dir["*"]
    bin.install_symlink libexec/"bin/preevy"
  end

  test do
    system bin/"preevy", "version"
  end
end

